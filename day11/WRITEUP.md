# Ping: Write-up

У нас есть сайт, который разрешает вводить только IP-адреса и делает [ICMP эхо-запросы](https://ru.wikipedia.org/wiki/Ping) на данный адрес (то есть, проще говоря, пингует его).

Если тебе когда-нибудь приходилось делать ping-запросы, то ты это наверняка делал через Командную строку (если у тебя Windows) или через терминал (Linux/MacOS). Суть таска была в том, чтобы понять, как эти работает обработка твоих запросов.

А на самом деле, когда ты просишь пропинговать что-то, то [вызывается консольная команда](https://github.com/upmlctf/ugractf-training-2017/blob/master/ping/app/app.py#L15) `ping -c 4 <your_request_here>`.

Ещё интересным фактом (и полезным для решения этого задания) является то, что в Linux-терминале можно вызвать две команды в одной строке: `ls; cat flag` — выведет список файлов в директории, а потом выведет файл `flag`.

Объединив эти две идеи, получаем, что нам нужен способ вызвать `ping -c 4 some_ip; ls`, чтобы увидеть список файлов на сервере. Но как обойти ограничение на ввод только IP-адресов? Очень просто. Заметь, что обработкой корректности IP занимается JavaScript в твоём браузере (подключается JS-файл, который в зависимости от значения в поле красит его в нужный цвет, при этом никуда запросы не отправляются). Одним из решений является отключение JS в браузере. Ещё можно послать POST-запрос с помощью несложного скрипта и придумать кучу других решений.

Отправляем корректный запрос (пинговать можно `127.0.0.1` [каждый компьютер по этому адресу обращается к себе], чтобы команда работала быстрее) и видим, что в директории лежит `flag.txt`. Читаем его запросом `127.0.0.1; cat flag.txt`.

Флаг 1 (100): **ping_gives_a_shell**

Что админ видит каждый день, когда **заходит** на сервер?

Если ты пробовал хотя бы раз подключаться по SSH, то ты видел, что перед приглашением для ввода команд (строкой типа `user@host~$ `, после которой можно вводить команды) выводится большой блок служебной информации. Он называется MoTD — Message of the day.

Чтобы его посмотреть на той операционке, которая стоит у меня, нужно вывести файл `/etc/motd`. Флаг будет там.

Флаг 2 (100): **motd_is_important**
